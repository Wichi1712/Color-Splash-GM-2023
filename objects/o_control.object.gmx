<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>&lt;undefined&gt;</spriteName>
  <solid>0</solid>
  <visible>-1</visible>
  <depth>0</depth>
  <persistent>-1</persistent>
  <parentName>&lt;undefined&gt;</parentName>
  <maskName>&lt;undefined&gt;</maskName>
  <events>
    <event eventtype="0" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Variables de puntaje, color, modo juego
//Variables globales de púntaje
global.scoreBlack = 0;
global.scoreWhite = 0;
global.scoreRed = 0;
global.scoreYellow = 0;
global.scoreBlue = 0;

//modo de juego
modeGame = 0;
jugar = true;
alarm[0] = -1;
limiteScore = 150;

//Vidas de player y level
vidas = 3;
time = 0;
stepTime = .01;
level = 0;
audio_play_music( Buble,true);
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="1">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Cambia jugar a true
o_control.jugar = true;
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Reiniciamos juego
game_restart();
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="3" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Pruebas desarrollo
//if( keyboard_check( vk_f1)){ vidas = 0;}
//if( keyboard_check( vk_f2)){ level = 12; global.scoreRed = 145; modeGame = 3;}
</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Random de posiciones
anchoCol = 64;
randomize();
posX = irandom_range(anchoCol, 520);
posY = -30;
</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Control vidas player y tiempo
//Tiempo
time+= stepTime;

//control vidas--PERDISTE
if ( vidas == 0){
    with( o_player){ instance_destroy();}//destruimos player
    
    vidas = 0;//Mantenemos vidas en cero
    stepTime = 0;//Detenemos el reloj
    with(o_ColorMaster){ instance_destroy();}//Destruimos cualquier objeto color
    jugar = false;

}

</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Creacion de colores y modo de juego
//modeGame 0 ====&gt; una sola bola de color
//modeGame 1 ====&gt; dos bolas de color
//modeGame 2 ====&gt; tres bolas de color
if(jugar){
    switch (modeGame){
        case 0://CONTROL DE ESCENA 1
        if ( !instance_exists( o_ColorMaster)){
            if (place_free( posX, posY)){
                instance_create(posX, posY, o_ColorMaster );
            }
        }
        
        if( scoreTotal &lt; 10)                       { level = 0; o_ColorMaster.vspeed =2;}
        else if( scoreTotal &gt;=10 &amp;&amp; scoreTotal &lt;20){ level = 1; o_ColorMaster.vspeed =4;}
        else if( scoreTotal &gt;=20 &amp;&amp; scoreTotal &lt;30){ level = 2; o_ColorMaster.vspeed =6;}
        else if( scoreTotal &gt;=30 &amp;&amp; scoreTotal &lt;40){ level = 3; o_ColorMaster.vspeed =8;}
        else if( scoreTotal ==40){ modeGame++; room_goto_next();}
        break;
        
        case 1://CONTROL DE ESCENA 2
        if ( instance_number( o_ColorMaster) &lt; 2){
            if (place_free( posX, posY)){
                instance_create(posX, posY, o_ColorMaster );
            }
        }
        
        if( scoreTotal &gt;=40 &amp;&amp; scoreTotal &lt;50)     { level = 4; o_ColorMaster.vspeed =2;}//10
        else if( scoreTotal &gt;=50 &amp;&amp; scoreTotal &lt;60){ level = 5; o_ColorMaster.vspeed =4;}//12
        else if( scoreTotal &gt;=60 &amp;&amp; scoreTotal &lt;70){ level = 6; o_ColorMaster.vspeed =6;}//14
        else if( scoreTotal ==70){ modeGame++; room_goto_next();}
        break;
        
        case 2://CONTROL DE ESCENA 3
        if ( instance_number( o_ColorMaster) &lt; 3){
            if (place_free( posX, posY)){
                instance_create(posX, posY, o_ColorMaster );
            }
        }
        
        if( scoreTotal &gt;=70 &amp;&amp; scoreTotal &lt;80)      { level = 7; o_ColorMaster.vspeed =2;}//16
        else if( scoreTotal &gt;=80 &amp;&amp; scoreTotal &lt;90) { level = 8; o_ColorMaster.vspeed =4;}//18
        else if( scoreTotal &gt;=90 &amp;&amp; scoreTotal &lt;100){ level = 9; o_ColorMaster.vspeed =6;}//20
        else if( scoreTotal ==100){ modeGame++; room_goto_next();}
        break;
        
        case 3://CONTROL DE ESCENA 4
        if ( instance_number( o_ColorMaster) &lt; 5){
            if (place_free( posX, posY + 30)){
                instance_create(posX, posY, o_ColorMaster );
            }
        }
        
        if( scoreTotal &gt;=100 &amp;&amp; scoreTotal &lt;110)      { level = 10; o_ColorMaster.vspeed =2;}//16
        else if( scoreTotal &gt;=110 &amp;&amp; scoreTotal &lt;120) { level = 11; o_ColorMaster.vspeed =4;}//18
        else if( scoreTotal &gt;=120 &amp;&amp; scoreTotal &lt; limiteScore) { level = 12; o_ColorMaster.vspeed =6;}//20
        else if( scoreTotal &gt;= limiteScore){ modeGame++; alarm[0] = 800;}//ACTIVAMOS ALARMA FINAL
        break;
        
        case 4: //GANASTE
        //jugar = false;
        stepTime = 0//Detenemos el reloj
        o_ColorMaster.vspeed = 0;//Detenemos velocidad de colores
        with(o_ColorMaster){ instance_destroy();}//Destruimos cualquier objeto color
        
        //Reiniciamos juego al presionar ENTER
        if ( keyboard_check( vk_enter)){
            audio_stop_music();
            game_restart(); 
        }
        break;
        //default: STATEMENT;
    }
}

</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Limites cursor
//coordenadas de dibujo cuadro de juego
var leftBorder = 0;//Borde izquierdo de area de juego.
var rightBorder = room_width;//Borde derecho de area de juego.
var upBorder = 0;//Borde superior de area de juego.
var downBorder = room_height;//Borde inferior de area de juego.

//-------------------------------------------------------------------
/*Esta parte del codigo es para establecer los limites de
 nuestro cursor durante el juego ya que sin esto saldriamos
 de la pantalla y nuestro juego pasaría a segundo plano.
 
 NOTA:
 Lo deasactivo ya que el juego esta configurado para jugarlo a
 pantalla completa.
 */
 
//Limite horizontal
//var mirillaX = clamp(mouse_x,leftBorder , rightBorder);
//Limite Vertical
//var mirillaY = clamp(mouse_y,upBorder , downBorder);
//Establece limite
//window_mouse_set(mirillaX, mirillaY);

//-----------------------------------------------------------------------

//Tipo de cursor
window_set_cursor( cr_cross);
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="8" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///INFO DESARROLLADOR
//draw_text( 20, 10, "modeGAme =" + string(modeGame));
//draw_text( 20, 20, "PosY =" + string(posY));

//if ( instance_exists( o_rojo)){
//draw_text( 20, 30, "Pos X rojo" + string(o_rojo.x));
//draw_text( 20, 45, "Pos Y rojo" + string(o_rojo.y));
//draw_text( 20, 55, "#rojo " + string(instance_number(o_rojo)));
//}

//if ( instance_exists( o_azul)){
//draw_text( 20, 60, "Pos X azul" + string(o_azul.x));
//draw_text( 20, 75, "Pos Y azul" + string(o_azul.y));
//draw_text( 20, 85, "#azul " + string(instance_number(o_azul)));
//}

//if ( instance_exists( o_amarillo)){
//draw_text( 20, 90, "Pos X amarillo" + string(o_amarillo .x));
//draw_text( 20, 105, "Pos Y amarillo" + string(o_amarillo.y));
//draw_text( 20, 115, "#amarillo " + string(instance_number(o_amarillo)));
//}

//if ( instance_exists( o_ColorMaster)){
//draw_text( 20, 90, "Pos X amarillo" + string(o_amarillo .x));
//draw_text( 20, 105, "Pos Y amarillo" + string(o_amarillo.y));
//draw_text( 20, 115, "#colores " + string(instance_number(o_ColorMaster)));
//}

//draw_text( mouse_x, mouse_y, " Pos X"+ string( mouse_x));
//draw_text( mouse_x, mouse_y + 50, " Pos Y"+ string( mouse_y));
//if ( instance_exists( par_color)){
//draw_text( 20, 55, "modeGame" + string(modeGame));
//}
//draw_text( 400, 200, room_width - 230);
//draw_text(300,10, room_get_name(room_caption));
//draw_text(380,30, "alarma" + string( alarm[0]));
//draw_text(30, 50, "Limite score " + string(limiteScore));
//draw_text(30, 70, "Estado de juego " + string(jugar));
</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Coordenadas de dibujo area de juego y score

draw_set_font( global.fntBitmapFont);

//coordenadas de dibujo cuadro de juego
var leftPlay = 0;//Inicio horizontal de area play
var rightPlay = room_width - 230;//Fin horizontal de area play
var supPlay = 0;//Inicio vertical de area play
var infPlay = room_height;//Fin vertical de area play

//coordenadas de dibujo cuadro de score
var leftScore = 590;//Inicio horizontal de area score
var rightScore = room_width;//Fin horizontal de area score
var supScore = 0;//Inicio vertical de area score
var infScore = room_height;//Fin vertical de area score
</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Informacion area de Score
var posX = 650;
var posX2 = 700;

//Texto level
draw_text( posX, 110, "Level     " + string(level));

//Texto time
draw_sprite( spr_reloj,0, posX + 20,160);
draw_text( posX2 + 20, 160, " " + string( round( time)));


//Textos de score
draw_sprite( spr_red,0, posX,210);
//draw_text( posX2, 150, " x " + string( global.scoreRojo));
draw_text( posX2, 210, " x " + string(global.scoreRed));

draw_sprite( spr_blue,0, posX,240);
//draw_text( posX2, 200, " x " + string (global.scoreAzul));
draw_text( posX2, 240, " x " + string (global.scoreBlue));

draw_sprite_ext( spr_iconoColor,0, posX,270,1,1,0, c_yellow,1 );
//draw_text( posX2, 250, " x " + string(global.scoreAmarillo));
draw_text( posX2, 270, " x " + string(global.scoreYellow));

draw_sprite_ext( spr_iconoColor,0, posX,302,1,1,0, c_black,1 );
draw_text( posX2, 302, " x " + string(global.scoreBlack));

draw_sprite_ext( spr_iconoColor,0, posX,333,1,1,0, c_white,1 );
draw_text( posX2, 333, " x " + string(global.scoreWhite));

//Texto score total
scoreTotal = global.scoreRed + global.scoreBlue + global.scoreYellow + global.scoreBlack + global.scoreWhite;
draw_text( posX - 10, 400, "Total=" + string(scoreTotal));

//Vida player
//Texto vidas
draw_text( posX, 560, "Lives");

//Dibuja corazones
distan = 35;
for (var i = 0; i &lt; vidas; i++){
    draw_sprite( spr_life,0,posX + (distan*i), 600);   
}


if(!instance_exists( o_buttonExit)){
    instance_create(posX2, room_height - 150, o_buttonExit);
}

</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Dibuja Game over
//draw_set_halign( fa_center);
if( vidas &lt;= 0){
    //draw_rectangle_color(20, 100, rightPlay - 20, 600,c_orange,c_olive,c_orange,c_orange,0);
    draw_sprite( spr_gameOver,0, 80,150);
    //draw_text( rightPlay div 2 - 120, infPlay div 2 - 200, string_upper("Game Over"));
    draw_text( rightPlay div 2 - 80 , infPlay div 2 - 100, "Score = " +string(scoreTotal));
    draw_text( rightPlay div 2 - 80 , infPlay div 2 - 50, "Time = " + string(round(time)));
    
    //Continua desde donde se quedo
    if(!instance_exists( o_buttonContinuar)){
    instance_create(285, room_height/3 + 150, o_buttonContinuar);}
    
    //Reiniciamos juego
    if(!instance_exists( o_buttonReload)){
    instance_create(285, room_height/3 + 210, o_buttonReload);}
}

</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Dibuja felicitaciones
if( modeGame == 4){// &amp;&amp; scoreTotal &gt;= 100){
    draw_sprite( spr_congratulation,0, 80,150);
    draw_text( rightPlay div 2 - 80 , infPlay div 2 - 100, "Score = " + string(scoreTotal));
    draw_text( rightPlay div 2 - 80 , infPlay div 2 - 50, "Time = " + string(round(time)));
    draw_text( rightPlay div 2 - 80 , infPlay div 2 + 20, "ENTER para #volver a jugar");
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
  </events>
  <PhysicsObject>0</PhysicsObject>
  <PhysicsObjectSensor>0</PhysicsObjectSensor>
  <PhysicsObjectShape>0</PhysicsObjectShape>
  <PhysicsObjectDensity>0.5</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0.100000001490116</PhysicsObjectRestitution>
  <PhysicsObjectGroup>0</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>0.100000001490116</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>0.100000001490116</PhysicsObjectAngularDamping>
  <PhysicsObjectFriction>0.200000002980232</PhysicsObjectFriction>
  <PhysicsObjectAwake>-1</PhysicsObjectAwake>
  <PhysicsObjectKinematic>0</PhysicsObjectKinematic>
  <PhysicsShapePoints/>
</object>
